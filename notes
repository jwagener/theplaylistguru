at 1-234617-3207-a064dad6aed93c5da0

https://api.soundcloud.com/resolve?client_id=2a29b786d884f77413df3e163c63ea7e&url=https://soundcloud.com/bjork

joy-division-3: 141391127
thesmiths: 141390830
bjork: 3208468


"https://api.soundcloud.com/me/followings?app_version=1460720994&page_size=200&client_id=02gUJC0hH2ct1EGOcYXQIzRFU91c72Ea&cursor=1302096938000"

var userIds = [
4033,173803736,18058245,26492694,207964045,208000501,6239590,1982286,16682398,2879548,207970553,1794934,5696093,901095,3208468,522011,5420,1645067,2389,203408688,2617,212024425,59996,424931,292806,4817226,1869,16299885,923935,1897769,1734161,28645,11049439,921240,17246346,5711664,345714,203419907,2401592,1245947,1521715,1546189,1408921,207963099,3439653,146939565,4318941,17055267,207963756,3498080,713296,173804281,4094436,6266041,2891879,4126213,3152106,4263931,1896425,12190198,12486624,7512089,2397552,1315,203415673,8722035,2527744,100904,490,183,207969079,844413,2655632,4420810,207982117,208007213,79,7141783,207982664,5419067,207055315,203812859,2221876,2573112,3037518,203409836,157430660,173804565,4198682,2328284,11415557,379333,7905472,7014530,5918362,1884828,1642713,12367183,273694,4100728,1889952,173804587,123,207990550,3767964,46852909,2051861,239666,10409,7374416,207989164,2700726,141389213,2043985,207997858,203418491,9516702,1730241,207981040,2285971,1358400,2864591,203419716,203416245,729502,4007916,176230,7809369,3131961,1753832,2725098,36921,331659,1755933,12890563,33831735,99301793,32022,141391127,660293,310810,15437,6098255,3649880,11112499,164190277,1531254,203407750,2465116,203407884,5709178,212054761,203412000,42663603,4014608,57872,1621486,173804745,5489495,203411959,922528,11799448,203416738,9771423,2675170,1038633,4629851,2393557,142548205,589484,1360,4130892,624,3582776,4032341,208003190,50553289,203414851,2158218,113309770,4558244,7483848,4896342,25680880,4608669,207964970,212042593,207972820,2721387,4412088,141390830,66131337,2303663,3835992,250,1919535,9701996,1991668,
43546,12867,605126,171035,158884,55,1433,53622,198500,1948652,117,1334562,325838,1421219,267713,415337,410271,8,1165120,1269720,316503,148,21778,849780,2023,1330571,175870,2097360,118938,1285245,2217692,326610,573930,111793,5590,1330428,262,211217,327051,337118,104540,133201,2232579,504215,2200371,228,263114,366978,57318,898362,3505170,1232518,926246,2490,19,856138,34424,447185,123179,383419,675,1423640,9031,339795,855337,308,245987,436072,413378,265274,537144,3587627,153437,1157069,4126,1753911,132582,341912,107566,973855,856670,1787342,515350,721346,168494,16077,102594,540,424724,624644,1074292,1220117,12,124275,2911,1244818,792584,1265148,3100,1440162,1787252,68462,17,10891,2610070,922374,42415,1161,104246,61124,96908,9,511721,111776,538709,313065,196710,1787225,14684,304484,630705,4561,131443,11859,1241,107,430558,1837,70053,1570159,43560,2585,1532,2388,2270251,328616,2,25543,16,2207744,60288,92138,70505,13149,957
]

$.ajax({
  url: "https://api.soundcloud.com/me/followings?app_version=1460720994&page_size=200&client_id=02gUJC0hH2ct1EGOcYXQIzRFU91c72Ea&cursor=1302096938000",
  type: "GET",
  beforeSend: function(xhr){xhr.setRequestHeader('Authorization', 'OAuth 1-138878-3207-ae00655c49a70b9fe3');},
  success: (res) => {
    window.r = res;
    console.log(res);
  }
});


function getTracks(ids, cb){
  $.ajax({
    url: "https://api-v2.soundcloud.com/tracks?ids=" + ids.join(",") + "&client_id=02gUJC0hH2ct1EGOcYXQIzRFU91c72Ea&app_version=1460720994",
    type: "GET",
    beforeSend: function(xhr){xhr.setRequestHeader('Authorization', 'OAuth 1-138878-3207-ae00655c49a70b9fe3');},
    success: (res) => {
      cb(res);
    }
  });
}

// max id 261774763
//var ids = [256312300,256312301]
var ids = []

_(300).times(i => {
  ids.push(256312300 + i)
})

getTracks(ids, (tracks) => {console.log(tracks.length, tracks ); window.tracks= tracks; })

tracks = {};
function fetchTracks(url){
  $.ajax({
    url: url,
    type: "GET",
    beforeSend: function(xhr){xhr.setRequestHeader('Authorization', 'OAuth 1-138878-3207-ae00655c49a70b9fe3');},
    success: (res) => {
      console.log(res);
      _.map(res.collection, (track) => {
        if(track.publisher_metadata){
          tracks[track.publisher_metadata.isrc] = track.id;
        }
      });

      if(res.next_href){
        fetchTracks(res.next_href);
      }
    }
  });
}

_.map(userIds, (id) => {
  fetchTracks('https://api-v2.soundcloud.com/users/'+id+'/tracks?client_id=02gUJC0hH2ct1EGOcYXQIzRFU91c72Ea&app_version=1460720994&limit=200');
});


_.map(tracks, (v,k) => {
  console.log("" + k + ":" + v);
});



_.map(Object.keys(tracks), (k) => {
  var v = tracks[k];
  console.log("" + k + ":" + v);
});





beforeSend: function(xhr){xhr.setRequestHeader('X-Test-Header', 'test-value');},


$.get("https://api-v2.soundcloud.com/users/3208468/tracks?access_token=1-234617-3207-a064dad6aed93c5da0&client_id=02gUJC0hH2ct1EGOcYXQIzRFU91c72Ea&app_version=1460720994&limit=200").then((res) => {
  console.log(res)
});


$.get("https://api-v2.soundcloud.com/users/3208468/tracks?client_id=02gUJC0hH2ct1EGOcYXQIzRFU91c72Ea&app_version=1460720994&limit=200").then((res) => {
  console.log(res)
});


$.get("https://api-v2.soundcloud.com/users/3208468/tracks?offset=255800357&representation=&limit=100&client_id=02gUJC0hH2ct1EGOcYXQIzRFU91c72Ea&app_version=1460720994").then((res) => {
  console.log(res)
});



$.get("https://api-v2.soundcloud.com/users/3208468/tracks?client_id=2a29b786d884f77413df3e163c63ea7e&app_version=1460720994&limit=200").then((res) => {
  console.log(res)
});
